import org.junit.jupiter.api.Test
import org.mockito.Mockito.*
import org.slf4j.Logger
import org.springframework.data.cassandra.core.CassandraOperations
import reactor.core.publisher.Mono

class PromoServiceTest {

    @Test
    fun testSavePromoToDBError() {
        // Arrange
        val cassandraOperations = mock(CassandraOperations::class.java)
        val logger = mock(Logger::class.java)
        
        val promoService = PromoService(cassandraOperations, logger)

        // Mock behavior for cassandraOperations.insert to simulate an error
        `when`(cassandraOperations.insert(any(), any())).thenReturn(Mono.error(Throwable("Database error")))

        // Create a sample promo object for testing
        val promo = Promo(/* Initialize with required data */)

        // Act
        promoService.savePromoToDB(promo)

        // Assert
        // Verify that the logger has logged the error message
        verify(logger).error(anyString())

        // You can add more assertions or verifications as needed.
    }
}
